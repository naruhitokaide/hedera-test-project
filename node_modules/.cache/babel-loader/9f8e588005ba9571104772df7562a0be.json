{"ast":null,"code":"import Key from \"./Key.js\";\nimport BadKeyError from \"./BadKeyError.js\";\nimport nacl from \"tweetnacl\";\nimport { arrayEqual, arrayStartsWith } from \"./util/array.js\";\nimport * as hex from \"./encoding/hex.js\";\nconst derPrefix = \"302a300506032b6570032100\";\nconst derPrefixBytes = hex.decode(derPrefix);\n/**\n * An public key on the Hedera™ network.\n */\n\nexport default class Ed25519PublicKey extends Key {\n  /**\n   * @internal\n   * @hideconstructor\n   * @param {Uint8Array} keyData\n   */\n  constructor(keyData) {\n    super();\n    /**\n     * @type {Uint8Array}\n     * @private\n     * @readonly\n     */\n\n    this._keyData = keyData;\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  get _type() {\n    return \"ED25519\";\n  }\n  /**\n   * @param {Uint8Array} data\n   * @returns {Ed25519PublicKey}\n   */\n\n\n  static fromBytes(data) {\n    switch (data.length) {\n      case 32:\n        return Ed25519PublicKey.fromBytesRaw(data);\n\n      case 44:\n        return Ed25519PublicKey.fromBytesDer(data);\n\n      default:\n        throw new BadKeyError(`invalid public key length: ${data.length} bytes`);\n    }\n  }\n  /**\n   * @param {Uint8Array} data\n   * @returns {Ed25519PublicKey}\n   */\n\n\n  static fromBytesDer(data) {\n    if (data.length != 44 || !arrayStartsWith(data, derPrefixBytes)) {\n      throw new BadKeyError(`invalid public key length: ${data.length} bytes`);\n    }\n\n    return new Ed25519PublicKey(data.subarray(12));\n  }\n  /**\n   * @param {Uint8Array} data\n   * @returns {Ed25519PublicKey}\n   */\n\n\n  static fromBytesRaw(data) {\n    if (data.length != 32) {\n      throw new BadKeyError(`invalid public key length: ${data.length} bytes`);\n    }\n\n    return new Ed25519PublicKey(data);\n  }\n  /**\n   * Parse a public key from a string of hexadecimal digits.\n   *\n   * The public key may optionally be prefixed with\n   * the DER header.\n   *\n   * @param {string} text\n   * @returns {Ed25519PublicKey}\n   */\n\n\n  static fromString(text) {\n    return Ed25519PublicKey.fromBytes(hex.decode(text));\n  }\n  /**\n   * Verify a signature on a message with this public key.\n   *\n   * @param {Uint8Array} message\n   * @param {Uint8Array} signature\n   * @returns {boolean}\n   */\n\n\n  verify(message, signature) {\n    return nacl.sign.detached.verify(message, signature, this._keyData);\n  }\n  /**\n   * @returns {Uint8Array}\n   */\n\n\n  toBytesDer() {\n    const bytes = new Uint8Array(derPrefixBytes.length + 32);\n    bytes.set(derPrefixBytes, 0);\n    bytes.set(this._keyData.subarray(0, 32), derPrefixBytes.length);\n    return bytes;\n  }\n  /**\n   * @returns {Uint8Array}\n   */\n\n\n  toBytesRaw() {\n    return this._keyData.slice();\n  }\n  /**\n   * @param {Ed25519PublicKey} other\n   * @returns {boolean}\n   */\n\n\n  equals(other) {\n    return arrayEqual(this._keyData, other._keyData);\n  }\n\n}","map":{"version":3,"sources":["C:/Work/coding-sandbox/react-again/dapp-days/node_modules/@hashgraph/cryptography/src/Ed25519PublicKey.js"],"names":["Key","BadKeyError","nacl","arrayEqual","arrayStartsWith","hex","derPrefix","derPrefixBytes","decode","Ed25519PublicKey","constructor","keyData","_keyData","_type","fromBytes","data","length","fromBytesRaw","fromBytesDer","subarray","fromString","text","verify","message","signature","sign","detached","toBytesDer","bytes","Uint8Array","set","toBytesRaw","slice","equals","other"],"mappings":"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","sourcesContent":["import Key from \"./Key.js\";\nimport BadKeyError from \"./BadKeyError.js\";\nimport nacl from \"tweetnacl\";\nimport { arrayEqual, arrayStartsWith } from \"./util/array.js\";\nimport * as hex from \"./encoding/hex.js\";\n\nconst derPrefix = \"302a300506032b6570032100\";\nconst derPrefixBytes = hex.decode(derPrefix);\n\n/**\n * An public key on the Hedera™ network.\n */\nexport default class Ed25519PublicKey extends Key {\n    /**\n     * @internal\n     * @hideconstructor\n     * @param {Uint8Array} keyData\n     */\n    constructor(keyData) {\n        super();\n\n        /**\n         * @type {Uint8Array}\n         * @private\n         * @readonly\n         */\n        this._keyData = keyData;\n    }\n\n    /**\n     * @returns {string}\n     */\n    get _type() {\n        return \"ED25519\";\n    }\n\n    /**\n     * @param {Uint8Array} data\n     * @returns {Ed25519PublicKey}\n     */\n    static fromBytes(data) {\n        switch (data.length) {\n            case 32:\n                return Ed25519PublicKey.fromBytesRaw(data);\n            case 44:\n                return Ed25519PublicKey.fromBytesDer(data);\n            default:\n                throw new BadKeyError(\n                    `invalid public key length: ${data.length} bytes`\n                );\n        }\n    }\n\n    /**\n     * @param {Uint8Array} data\n     * @returns {Ed25519PublicKey}\n     */\n    static fromBytesDer(data) {\n        if (data.length != 44 || !arrayStartsWith(data, derPrefixBytes)) {\n            throw new BadKeyError(\n                `invalid public key length: ${data.length} bytes`\n            );\n        }\n\n        return new Ed25519PublicKey(data.subarray(12));\n    }\n\n    /**\n     * @param {Uint8Array} data\n     * @returns {Ed25519PublicKey}\n     */\n    static fromBytesRaw(data) {\n        if (data.length != 32) {\n            throw new BadKeyError(\n                `invalid public key length: ${data.length} bytes`\n            );\n        }\n\n        return new Ed25519PublicKey(data);\n    }\n\n    /**\n     * Parse a public key from a string of hexadecimal digits.\n     *\n     * The public key may optionally be prefixed with\n     * the DER header.\n     *\n     * @param {string} text\n     * @returns {Ed25519PublicKey}\n     */\n    static fromString(text) {\n        return Ed25519PublicKey.fromBytes(hex.decode(text));\n    }\n\n    /**\n     * Verify a signature on a message with this public key.\n     *\n     * @param {Uint8Array} message\n     * @param {Uint8Array} signature\n     * @returns {boolean}\n     */\n    verify(message, signature) {\n        return nacl.sign.detached.verify(message, signature, this._keyData);\n    }\n\n    /**\n     * @returns {Uint8Array}\n     */\n    toBytesDer() {\n        const bytes = new Uint8Array(derPrefixBytes.length + 32);\n\n        bytes.set(derPrefixBytes, 0);\n        bytes.set(this._keyData.subarray(0, 32), derPrefixBytes.length);\n\n        return bytes;\n    }\n\n    /**\n     * @returns {Uint8Array}\n     */\n    toBytesRaw() {\n        return this._keyData.slice();\n    }\n\n    /**\n     * @param {Ed25519PublicKey} other\n     * @returns {boolean}\n     */\n    equals(other) {\n        return arrayEqual(this._keyData, other._keyData);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}