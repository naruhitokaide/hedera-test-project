{"ast":null,"code":"import CACHE from \"./Cache.js\";\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").IKey} proto.IKey\n */\n\nexport default class Key {\n  /**\n   * @internal\n   * @abstract\n   * @returns {proto.IKey}\n   */\n  // eslint-disable-next-line jsdoc/require-returns-check\n  _toProtobufKey() {\n    throw new Error(\"not implemented\");\n  }\n  /**\n   * @internal\n   * @param {proto.IKey} key\n   * @returns {Key}\n   */\n\n\n  static _fromProtobufKey(key) {\n    if (key.contractID != null) {\n      if (CACHE.contractId == null) {\n        throw new Error(\"`ContractId` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.contractId(key.contractID);\n    }\n\n    if (key.delegatableContractId != null) {\n      if (CACHE.delegateContractId == null) {\n        throw new Error(\"`ContractId` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.delegateContractId(key.delegatableContractId);\n    }\n\n    if (key.ed25519 != null && key.ed25519.byteLength > 0) {\n      if (CACHE.publicKeyED25519 == null) {\n        throw new Error(\"`PublicKey` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.publicKeyED25519(key.ed25519);\n    }\n\n    if (key.ECDSASecp256k1 != null && key.ECDSASecp256k1.byteLength > 0) {\n      if (CACHE.publicKeyECDSA == null) {\n        throw new Error(\"`PublicKey` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.publicKeyECDSA(key.ECDSASecp256k1);\n    }\n\n    if (key.thresholdKey != null && key.thresholdKey.threshold != null) {\n      if (CACHE.thresholdKey == null) {\n        throw new Error(\"`PublicKey` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.thresholdKey(key.thresholdKey);\n    }\n\n    if (key.keyList != null) {\n      if (CACHE.keyList == null) {\n        throw new Error(\"`PublicKey` was not loaded before decoding `Key`\");\n      }\n\n      return CACHE.keyList(key.keyList);\n    }\n\n    throw new Error(`(BUG) keyFromProtobuf: not implemented key case: ${JSON.stringify(key)}`);\n  }\n\n}","map":{"version":3,"sources":["C:/Work/coding-sandbox/react-again/dapp-days/node_modules/@hashgraph/sdk/src/Key.js"],"names":["CACHE","Key","_toProtobufKey","Error","_fromProtobufKey","key","contractID","contractId","delegatableContractId","delegateContractId","ed25519","byteLength","publicKeyED25519","ECDSASecp256k1","publicKeyECDSA","thresholdKey","threshold","keyList","JSON","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AAEA;AACA;AACA;AACA;;AAEA,eAAe,MAAMC,GAAN,CAAU;AACrB;AACJ;AACA;AACA;AACA;AACI;AACAC,EAAAA,cAAc,GAAG;AACb,UAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAC2B,SAAhBC,gBAAgB,CAACC,GAAD,EAAM;AACzB,QAAIA,GAAG,CAACC,UAAJ,IAAkB,IAAtB,EAA4B;AACxB,UAAIN,KAAK,CAACO,UAAN,IAAoB,IAAxB,EAA8B;AAC1B,cAAM,IAAIJ,KAAJ,CACF,mDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACO,UAAN,CAAiBF,GAAG,CAACC,UAArB,CAAP;AACH;;AAED,QAAID,GAAG,CAACG,qBAAJ,IAA6B,IAAjC,EAAuC;AACnC,UAAIR,KAAK,CAACS,kBAAN,IAA4B,IAAhC,EAAsC;AAClC,cAAM,IAAIN,KAAJ,CACF,mDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACS,kBAAN,CAAyBJ,GAAG,CAACG,qBAA7B,CAAP;AACH;;AAED,QAAIH,GAAG,CAACK,OAAJ,IAAe,IAAf,IAAuBL,GAAG,CAACK,OAAJ,CAAYC,UAAZ,GAAyB,CAApD,EAAuD;AACnD,UAAIX,KAAK,CAACY,gBAAN,IAA0B,IAA9B,EAAoC;AAChC,cAAM,IAAIT,KAAJ,CACF,kDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACY,gBAAN,CAAuBP,GAAG,CAACK,OAA3B,CAAP;AACH;;AAED,QAAIL,GAAG,CAACQ,cAAJ,IAAsB,IAAtB,IAA8BR,GAAG,CAACQ,cAAJ,CAAmBF,UAAnB,GAAgC,CAAlE,EAAqE;AACjE,UAAIX,KAAK,CAACc,cAAN,IAAwB,IAA5B,EAAkC;AAC9B,cAAM,IAAIX,KAAJ,CACF,kDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACc,cAAN,CAAqBT,GAAG,CAACQ,cAAzB,CAAP;AACH;;AAED,QAAIR,GAAG,CAACU,YAAJ,IAAoB,IAApB,IAA4BV,GAAG,CAACU,YAAJ,CAAiBC,SAAjB,IAA8B,IAA9D,EAAoE;AAChE,UAAIhB,KAAK,CAACe,YAAN,IAAsB,IAA1B,EAAgC;AAC5B,cAAM,IAAIZ,KAAJ,CACF,kDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACe,YAAN,CAAmBV,GAAG,CAACU,YAAvB,CAAP;AACH;;AAED,QAAIV,GAAG,CAACY,OAAJ,IAAe,IAAnB,EAAyB;AACrB,UAAIjB,KAAK,CAACiB,OAAN,IAAiB,IAArB,EAA2B;AACvB,cAAM,IAAId,KAAJ,CACF,kDADE,CAAN;AAGH;;AAED,aAAOH,KAAK,CAACiB,OAAN,CAAcZ,GAAG,CAACY,OAAlB,CAAP;AACH;;AAED,UAAM,IAAId,KAAJ,CACD,oDAAmDe,IAAI,CAACC,SAAL,CAChDd,GADgD,CAElD,EAHA,CAAN;AAKH;;AAlFoB","sourcesContent":["import CACHE from \"./Cache.js\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").IKey} proto.IKey\n */\n\nexport default class Key {\n    /**\n     * @internal\n     * @abstract\n     * @returns {proto.IKey}\n     */\n    // eslint-disable-next-line jsdoc/require-returns-check\n    _toProtobufKey() {\n        throw new Error(\"not implemented\");\n    }\n\n    /**\n     * @internal\n     * @param {proto.IKey} key\n     * @returns {Key}\n     */\n    static _fromProtobufKey(key) {\n        if (key.contractID != null) {\n            if (CACHE.contractId == null) {\n                throw new Error(\n                    \"`ContractId` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.contractId(key.contractID);\n        }\n\n        if (key.delegatableContractId != null) {\n            if (CACHE.delegateContractId == null) {\n                throw new Error(\n                    \"`ContractId` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.delegateContractId(key.delegatableContractId);\n        }\n\n        if (key.ed25519 != null && key.ed25519.byteLength > 0) {\n            if (CACHE.publicKeyED25519 == null) {\n                throw new Error(\n                    \"`PublicKey` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.publicKeyED25519(key.ed25519);\n        }\n\n        if (key.ECDSASecp256k1 != null && key.ECDSASecp256k1.byteLength > 0) {\n            if (CACHE.publicKeyECDSA == null) {\n                throw new Error(\n                    \"`PublicKey` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.publicKeyECDSA(key.ECDSASecp256k1);\n        }\n\n        if (key.thresholdKey != null && key.thresholdKey.threshold != null) {\n            if (CACHE.thresholdKey == null) {\n                throw new Error(\n                    \"`PublicKey` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.thresholdKey(key.thresholdKey);\n        }\n\n        if (key.keyList != null) {\n            if (CACHE.keyList == null) {\n                throw new Error(\n                    \"`PublicKey` was not loaded before decoding `Key`\"\n                );\n            }\n\n            return CACHE.keyList(key.keyList);\n        }\n\n        throw new Error(\n            `(BUG) keyFromProtobuf: not implemented key case: ${JSON.stringify(\n                key\n            )}`\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}